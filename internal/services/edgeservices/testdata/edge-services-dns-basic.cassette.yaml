---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 125
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: '{"project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","name":"my-edge_services-pipeline","description":"pipeline description"}'
        form: {}
        headers:
            Content-Type:
                - application/json
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/pipelines
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 490
        uncompressed: false
        body: '{"created_at":"2026-02-17T09:55:47.298340539Z","description":"pipeline description","errors":[{"code":"pipeline_missing_head_stage","message":"first (head) stage missing","severity":"critical","stage":"dns","type":"config"}],"id":"a475c4d7-321a-4bbf-a28b-43600dbc332a","name":"my-edge_services-pipeline","organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","status":"warning","updated_at":"2026-02-17T09:55:47.298340539Z"}'
        headers:
            Content-Length:
                - "490"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:47 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - b19b84c3-075c-4218-9a9f-262024f81e12
        status: 200 OK
        code: 200
        duration: 324.557917ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/pipelines/a475c4d7-321a-4bbf-a28b-43600dbc332a
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 484
        uncompressed: false
        body: '{"created_at":"2026-02-17T09:55:47.298340Z","description":"pipeline description","errors":[{"code":"pipeline_missing_head_stage","message":"first (head) stage missing","severity":"critical","stage":"dns","type":"config"}],"id":"a475c4d7-321a-4bbf-a28b-43600dbc332a","name":"my-edge_services-pipeline","organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","status":"warning","updated_at":"2026-02-17T09:55:47.298340Z"}'
        headers:
            Content-Length:
                - "484"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:47 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 03be7ae3-5b0a-4866-ad10-aeeacd1181b6
        status: 200 OK
        code: 200
        duration: 36.400291ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 35
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: '{"fqdns":["subodomain.example.fr"]}'
        form: {}
        headers:
            Content-Type:
                - application/json
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/pipelines/a475c4d7-321a-4bbf-a28b-43600dbc332a/dns-stages
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 264
        uncompressed: false
        body: '{"created_at":"2026-02-17T09:55:47.483965294Z","default_fqdn":"","fqdns":["subodomain.example.fr"],"id":"8c35da04-8a3b-4ce0-aaee-4817670c4b00","pipeline_id":"a475c4d7-321a-4bbf-a28b-43600dbc332a","type":"custom","updated_at":"2026-02-17T09:55:47.483965294Z"}'
        headers:
            Content-Length:
                - "264"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:47 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 0e7cb3d9-880e-4d32-9b0c-4f377309dc30
        status: 200 OK
        code: 200
        duration: 147.249041ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/8c35da04-8a3b-4ce0-aaee-4817670c4b00
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 258
        uncompressed: false
        body: '{"created_at":"2026-02-17T09:55:47.483965Z","default_fqdn":"","fqdns":["subodomain.example.fr"],"id":"8c35da04-8a3b-4ce0-aaee-4817670c4b00","pipeline_id":"a475c4d7-321a-4bbf-a28b-43600dbc332a","type":"custom","updated_at":"2026-02-17T09:55:47.483965Z"}'
        headers:
            Content-Length:
                - "258"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:47 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - e90643f9-b14b-4eac-a12d-f065f426d6cd
        status: 200 OK
        code: 200
        duration: 56.968ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/8c35da04-8a3b-4ce0-aaee-4817670c4b00
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 258
        uncompressed: false
        body: '{"created_at":"2026-02-17T09:55:47.483965Z","default_fqdn":"","fqdns":["subodomain.example.fr"],"id":"8c35da04-8a3b-4ce0-aaee-4817670c4b00","pipeline_id":"a475c4d7-321a-4bbf-a28b-43600dbc332a","type":"custom","updated_at":"2026-02-17T09:55:47.483965Z"}'
        headers:
            Content-Length:
                - "258"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:47 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 018690fe-0636-4aff-bd6c-1d96ba8a68b0
        status: 200 OK
        code: 200
        duration: 113.390375ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/pipelines/a475c4d7-321a-4bbf-a28b-43600dbc332a
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 484
        uncompressed: false
        body: '{"created_at":"2026-02-17T09:55:47.298340Z","description":"pipeline description","errors":[{"code":"pipeline_missing_head_stage","message":"first (head) stage missing","severity":"critical","stage":"dns","type":"config"}],"id":"a475c4d7-321a-4bbf-a28b-43600dbc332a","name":"my-edge_services-pipeline","organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","status":"warning","updated_at":"2026-02-17T09:55:47.298340Z"}'
        headers:
            Content-Length:
                - "484"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:47 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 93bfa686-4fcd-4a76-81a0-59bf6521a247
        status: 200 OK
        code: 200
        duration: 47.345583ms
    - id: 6
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/8c35da04-8a3b-4ce0-aaee-4817670c4b00
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 258
        uncompressed: false
        body: '{"created_at":"2026-02-17T09:55:47.483965Z","default_fqdn":"","fqdns":["subodomain.example.fr"],"id":"8c35da04-8a3b-4ce0-aaee-4817670c4b00","pipeline_id":"a475c4d7-321a-4bbf-a28b-43600dbc332a","type":"custom","updated_at":"2026-02-17T09:55:47.483965Z"}'
        headers:
            Content-Length:
                - "258"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:48 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 851a7a01-ffd1-43c3-9b13-e260077b2968
        status: 200 OK
        code: 200
        duration: 57.354333ms
    - id: 7
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/8c35da04-8a3b-4ce0-aaee-4817670c4b00
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 258
        uncompressed: false
        body: '{"created_at":"2026-02-17T09:55:47.483965Z","default_fqdn":"","fqdns":["subodomain.example.fr"],"id":"8c35da04-8a3b-4ce0-aaee-4817670c4b00","pipeline_id":"a475c4d7-321a-4bbf-a28b-43600dbc332a","type":"custom","updated_at":"2026-02-17T09:55:47.483965Z"}'
        headers:
            Content-Length:
                - "258"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:48 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - cd143976-9e91-4f91-bd85-7729b1e620df
        status: 200 OK
        code: 200
        duration: 40.181542ms
    - id: 8
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/8c35da04-8a3b-4ce0-aaee-4817670c4b00
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 0
        uncompressed: false
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:48 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 827ba3d9-3cbd-40f0-bbe2-17564d47dc1f
        status: 204 No Content
        code: 204
        duration: 77.009125ms
    - id: 9
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/pipelines/a475c4d7-321a-4bbf-a28b-43600dbc332a
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 0
        uncompressed: false
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:48 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 5f9368af-a24c-4233-85b3-a891ee1a9382
        status: 204 No Content
        code: 204
        duration: 109.703708ms
    - id: 10
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/8c35da04-8a3b-4ce0-aaee-4817670c4b00
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 23
        uncompressed: false
        body: '{"message":"Not Found"}'
        headers:
            Content-Length:
                - "23"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Tue, 17 Feb 2026 09:55:48 GMT
            Server:
                - Scaleway API Gateway (fr-par-3;edge03)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 4508d30d-d42a-4c8c-b43c-726b8dad024c
        status: 404 Not Found
        code: 404
        duration: 128.850666ms
