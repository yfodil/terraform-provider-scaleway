---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 125
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: '{"project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","name":"my-edge_services-pipeline","description":"pipeline description"}'
        form: {}
        headers:
            Content-Type:
                - application/json
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/pipelines
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 490
        uncompressed: false
        body: '{"created_at":"2026-02-18T16:53:59.701927717Z","description":"pipeline description","errors":[{"code":"pipeline_missing_head_stage","message":"first (head) stage missing","severity":"critical","stage":"dns","type":"config"}],"id":"5c59efb9-1c91-46da-8992-9d2c5596d1b6","name":"my-edge_services-pipeline","organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","status":"warning","updated_at":"2026-02-18T16:53:59.701927717Z"}'
        headers:
            Content-Length:
                - "490"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:53:59 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - d41f7390-0ad5-4211-8930-b9de17cdaf9b
        status: 200 OK
        code: 200
        duration: 280.798417ms
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/pipelines/5c59efb9-1c91-46da-8992-9d2c5596d1b6
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 484
        uncompressed: false
        body: '{"created_at":"2026-02-18T16:53:59.701927Z","description":"pipeline description","errors":[{"code":"pipeline_missing_head_stage","message":"first (head) stage missing","severity":"critical","stage":"dns","type":"config"}],"id":"5c59efb9-1c91-46da-8992-9d2c5596d1b6","name":"my-edge_services-pipeline","organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","status":"warning","updated_at":"2026-02-18T16:53:59.701927Z"}'
        headers:
            Content-Length:
                - "484"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:53:59 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 5714fbe8-333d-4305-bfe7-4dc0e10c3750
        status: 200 OK
        code: 200
        duration: 74.708792ms
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 35
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: '{"fqdns":["subodomain.example.fr"]}'
        form: {}
        headers:
            Content-Type:
                - application/json
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/pipelines/5c59efb9-1c91-46da-8992-9d2c5596d1b6/dns-stages
        method: POST
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 264
        uncompressed: false
        body: '{"created_at":"2026-02-18T16:53:59.929765083Z","default_fqdn":"","fqdns":["subodomain.example.fr"],"id":"d70efb58-602c-4e0e-aa0b-c240c89ae3c5","pipeline_id":"5c59efb9-1c91-46da-8992-9d2c5596d1b6","type":"custom","updated_at":"2026-02-18T16:53:59.929765083Z"}'
        headers:
            Content-Length:
                - "264"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:53:59 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 2227525e-68a0-4d6e-a024-ac45b551cf73
        status: 200 OK
        code: 200
        duration: 240.140084ms
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/d70efb58-602c-4e0e-aa0b-c240c89ae3c5
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 258
        uncompressed: false
        body: '{"created_at":"2026-02-18T16:53:59.929765Z","default_fqdn":"","fqdns":["subodomain.example.fr"],"id":"d70efb58-602c-4e0e-aa0b-c240c89ae3c5","pipeline_id":"5c59efb9-1c91-46da-8992-9d2c5596d1b6","type":"custom","updated_at":"2026-02-18T16:53:59.929765Z"}'
        headers:
            Content-Length:
                - "258"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:54:00 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 1aca1a29-4e5a-4202-a7e9-c719e97ad979
        status: 200 OK
        code: 200
        duration: 53.815583ms
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/d70efb58-602c-4e0e-aa0b-c240c89ae3c5
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 258
        uncompressed: false
        body: '{"created_at":"2026-02-18T16:53:59.929765Z","default_fqdn":"","fqdns":["subodomain.example.fr"],"id":"d70efb58-602c-4e0e-aa0b-c240c89ae3c5","pipeline_id":"5c59efb9-1c91-46da-8992-9d2c5596d1b6","type":"custom","updated_at":"2026-02-18T16:53:59.929765Z"}'
        headers:
            Content-Length:
                - "258"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:54:00 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 0e5e0da5-cf55-4df4-83e3-5f4cc029590f
        status: 200 OK
        code: 200
        duration: 59.476167ms
    - id: 5
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/pipelines/5c59efb9-1c91-46da-8992-9d2c5596d1b6
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 484
        uncompressed: false
        body: '{"created_at":"2026-02-18T16:53:59.701927Z","description":"pipeline description","errors":[{"code":"pipeline_missing_head_stage","message":"first (head) stage missing","severity":"critical","stage":"dns","type":"config"}],"id":"5c59efb9-1c91-46da-8992-9d2c5596d1b6","name":"my-edge_services-pipeline","organization_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","project_id":"564aa517-68b0-4fd7-8c8c-d21c4bcdcbd5","status":"warning","updated_at":"2026-02-18T16:53:59.701927Z"}'
        headers:
            Content-Length:
                - "484"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:54:00 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 5b48a050-f79f-41d5-9d11-fb70b3f6f4a5
        status: 200 OK
        code: 200
        duration: 54.137625ms
    - id: 6
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/d70efb58-602c-4e0e-aa0b-c240c89ae3c5
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 258
        uncompressed: false
        body: '{"created_at":"2026-02-18T16:53:59.929765Z","default_fqdn":"","fqdns":["subodomain.example.fr"],"id":"d70efb58-602c-4e0e-aa0b-c240c89ae3c5","pipeline_id":"5c59efb9-1c91-46da-8992-9d2c5596d1b6","type":"custom","updated_at":"2026-02-18T16:53:59.929765Z"}'
        headers:
            Content-Length:
                - "258"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:54:00 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 74ad5538-44f4-4fe8-83da-35702cc842ab
        status: 200 OK
        code: 200
        duration: 120.71675ms
    - id: 7
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/d70efb58-602c-4e0e-aa0b-c240c89ae3c5
        method: GET
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 258
        uncompressed: false
        body: '{"created_at":"2026-02-18T16:53:59.929765Z","default_fqdn":"","fqdns":["subodomain.example.fr"],"id":"d70efb58-602c-4e0e-aa0b-c240c89ae3c5","pipeline_id":"5c59efb9-1c91-46da-8992-9d2c5596d1b6","type":"custom","updated_at":"2026-02-18T16:53:59.929765Z"}'
        headers:
            Content-Length:
                - "258"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:54:00 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 13b7fed6-a176-4f9b-b9f4-cd653a4649d9
        status: 200 OK
        code: 200
        duration: 60.860125ms
    - id: 8
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/d70efb58-602c-4e0e-aa0b-c240c89ae3c5
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 0
        uncompressed: false
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:54:01 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - e4d51435-1efd-423d-a572-2127f45b3077
        status: 204 No Content
        code: 204
        duration: 110.477167ms
    - id: 9
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/pipelines/5c59efb9-1c91-46da-8992-9d2c5596d1b6
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 0
        uncompressed: false
        body: ""
        headers:
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:54:01 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 8b4bd9d0-274e-4c92-a3f3-f7eeaff97a8d
        status: 204 No Content
        code: 204
        duration: 128.308208ms
    - id: 10
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: api.scaleway.com
        remote_addr: ""
        request_uri: ""
        body: ""
        form: {}
        headers:
            User-Agent:
                - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.25.3; darwin; arm64) terraform-provider/develop terraform/terraform-tests
        url: https://api.scaleway.com/edge-services/v1beta1/dns-stages/d70efb58-602c-4e0e-aa0b-c240c89ae3c5
        method: DELETE
      response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        transfer_encoding: []
        trailer: {}
        content_length: 23
        uncompressed: false
        body: '{"message":"Not Found"}'
        headers:
            Content-Length:
                - "23"
            Content-Security-Policy:
                - default-src 'none'; frame-ancestors 'none'
            Content-Type:
                - application/json
            Date:
                - Wed, 18 Feb 2026 16:54:01 GMT
            Server:
                - Scaleway API Gateway (fr-par-2;edge02)
            Strict-Transport-Security:
                - max-age=63072000
            X-Content-Type-Options:
                - nosniff
            X-Frame-Options:
                - DENY
            X-Request-Id:
                - 18a80de8-262c-4df3-9838-1c5d3c0838d5
        status: 404 Not Found
        code: 404
        duration: 56.270875ms
